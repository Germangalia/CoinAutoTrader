{"version":3,"sources":["event-bitcoin-price.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"event-bitcoin-price.js","sourcesContent":["/**\n * Created by ggalia84 on 26/05/16.\n */\n\n//TODO change IP in production\nvar socket = io('http://localhost:3000');\n\n/**\n * Socket.io for actualize bitcoin price\n */\nsocket.on(\"bitcoin-price-channel:App\\\\Events\\\\ShouldBroadcastBitcoinPrice\", function(message){\n    // Reload the bitcoin price everytime we load fire/bitcoin-price rout\n    //$('#bitcoin-price').text(parseFloat(message.data.bitcoinprice));\n    //window.alert(message.data.bitcoinprice);\n    document.getElementById(\"bitcoin-price\").innerHTML = message.data.bitcoinprice;\n});\n\n\n/**\n * Get Bitcoin price from API\n */\nfunction getBitcoinPrice() {\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.open('GET', \"../api/statistics/getBitcoinPrice\", false);   //false for syncronus\n    httpRequest.send();\n    return httpRequest.responseText;\n}\n\n/**\n * Parser for response of the API and convert in array of objects\n * @param response\n */\nfunction parseResponse(response){\n    var text = response.split('<',1);\n    return text;\n}\n\n\n/**\n * Insert value from object to HTML\n * @param text\n */\nfunction insertHtml(text){\n    document.getElementById(\"bitcoin-price\").innerHTML = text;\n}\n\n\n//Ececute functions for first bitcoin price load\nvar response = getBitcoinPrice();\nvar text = parseResponse(response);\ninsertHtml(text);"],"sourceRoot":"/source/"}